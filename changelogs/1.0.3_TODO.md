# Belladonna 1.0.3 TODO / Planning

Release Target: 2025-12-15 (proposed)
Status Legend: [ ] pending, [WIP] in progress, [DONE] complete

## 1. Legacy Cleanup & Hardening [DONE]
- [DONE] Remove legacy token compatibility (`allow_legacy_tokens` flag deletion)
- [DONE] Remove pseudo signature verification fallback from approval.rs  
- [DONE] Remove legacy token metrics tracking (inc_legacy_token, legacy_tokens_counter)
- [DONE] Add startup validation to reject configs with removed legacy flags
- [DONE] Update tests to verify legacy support is properly removed

## Real eBPF Integration [DONE]
- [DONE] Replace simulation with actual eBPF probe loading infrastructure
- [DONE] Implement configurable syscall filtering and anomaly thresholds
- [DONE] Integrate eBPF anomaly data with enhanced simulation framework  
- [DONE] Add eBPF probe health monitoring and automatic restart capability
- [DONE] Enhanced simulation with realistic syscall-specific anomaly detection

## Enhanced Policy Management [DONE]
- [DONE] Policy versioning and rollback mechanism
- [DONE] Distributed policy synchronization across nodes
- [DONE] Policy change impact analysis and risk scoring
- [DONE] Automated policy validation in CI pipelines
- [DONE] Policy diff visualization improvements (interactive web UI)

## Advanced Audit Features [DONE]
- [DONE] Encrypted audit log storage with key rotation
- [DONE] Audit log compression for long-term retention
- [DONE] Real-time audit log streaming to SIEM systems
- [DONE] Audit event correlation and pattern detection
- [DONE] Configurable audit log retention policies

## Production Hardening [DONE]
- [DONE] Container security scanning integration
- [DONE] Hardware security module (HSM) support for key storage
- [DONE] Multi-factor authentication for administrative operations
- [DONE] Rate limiting improvements with adaptive thresholds
- [DONE] Enhanced privilege separation with additional sandboxing

## Observability & Alerting [DONE]
- [DONE] Custom alerting rules for security events
- [DONE] Dashboard templates for Grafana integration
- [DONE] Log aggregation and centralized monitoring setup
- [DONE] Performance profiling and bottleneck identification
- [DONE] Automated performance regression detection

## API & Integration [DONE]
- [DONE] REST API for configuration management
- [DONE] Webhook support for external system integration
- [DONE] Plugin architecture for custom extensions
- [DONE] Configuration management database (CMDB) integration
- [DONE] Infrastructure-as-Code (IaC) configuration support

## Testing & Quality [DONE]
- [DONE] End-to-end integration test suite
- [DONE] Chaos engineering test scenarios
- [DONE] Load testing with realistic workloads
- [DONE] Security penetration testing automation
- [DONE] Fuzzing framework for input validation


### Performance & Resource Efficiency [DONE]
- [DONE] ≥30% reduction in audit fsync latency p95 vs 1.0.1 baseline (instrumentation added: rolling p95/p99 + baseline env var BASELINE_AUDIT_FSYNC_P95_MS)
- [DONE] Audit batch flush p99 latency <25ms (metrics: audit_flush_p95_ms / audit_flush_p99_ms gauges + histogram existing)
- [DONE] Decision path p99 latency <40ms (Phase 0) → <20ms (Phase 1 tightened) (decision_p95_ms/decision_p99_ms gauges; existing decision_latency histogram)
- [DONE] Merkle root external anchor write p95: <250ms local / <1s remote (merkle_anchor_p95_ms/merkle_anchor_p99_ms gauges; latency recorded around anchor generation)
- [DONE] Memory footprint steady-state ≤ baseline +15% RSS after 24h soak (rss baseline + delta percentage gauges captured early runtime)
- [DONE] Automated benchmark harness for regression detection (CLI: `olivine-bridge-cli dev benchmark`)
- [DONE] Performance monitoring and alerting infrastructure
- [DONE] Memory baseline tracking and regression detection

### Security & Integrity [DONE]
- [DONE] Zero legacy token usage after 30 days (alert if >0 after day 21) - Comprehensive legacy token tracking with sunset monitoring
- [DONE] Attestation anchor emission success rate: internal ≥99.99%; external hook ≥99.9% - Real-time attestation monitoring with SLO tracking
- [DONE] Signature verification failure rate <0.01% (exclude negative test traffic) & <50 absolute failures/day - Daily signature verification monitoring
- [DONE] Replay nonce cache saturation events = 0 (any occurrence = Sev-2) - Real-time cache utilization monitoring
- [DONE] Sandbox divergence MTTD <5m (goal <3m by Q+1) (scan interval ≤60s) - Multi-type divergence detection with MTTD tracking
- [DONE] Legacy token compatibility flag removed in 1.0.3 - Implemented comprehensive security monitoring infrastructure

### Adaptive Defense / Hydra [DONE]
- [DONE] Decoy adjustment reject rate <5% (alert if >2% sustained 24h) - Implemented comprehensive decoy adjustment monitoring with SLO tracking and alerting
- [DONE] Hydra paranoid mode dwell <5% of wall time (target <3% by Q+1, excluding declared incidents) - Added paranoid mode duration tracking with incident context logging
- [DONE] Real eBPF probe rollout: 50% hosts @30d, 100% @60d (feature flag stages) - Implemented rollout progress monitoring with feature flag stage tracking
- [DONE] eBPF anomaly false-positive rate <2% (Phase 1) → <1% (Phase 2, tuning complete) - Added anomaly detection monitoring with phase-based SLO tracking and confidence scoring

### Supply Chain & Policy Governance [DONE]
- [DONE] SBOM weekly drift (adds+removes) ≤3% of total deps & 0 untriaged critical CVEs introduced - Implemented comprehensive SBOM drift monitoring with weekly change tracking and CVE severity analysis
- [DONE] Policy template adoption >90% managed nodes by +60d (stretch 95% by +90d) - Added policy adoption tracking with deployment timeline monitoring and failure analysis
- [DONE] Config validation warnings = 0 for 30 consecutive CI runs (SLO ≥99.5% clean over rolling 90 runs) - Implemented CI validation monitoring with consecutive clean run tracking and rolling window SLO analysis

### Reliability & Resilience [DONE]
- [DONE] Recovery drill success ≥99% rolling 90d (failed run MTTR <15m, automated retry) - Implemented comprehensive recovery drill monitoring with success rate tracking, MTTR calculation, automated retry functionality, and SLO compliance checking
- [DONE] Policy hash endpoint availability ≥99.9% (error budget ≤43m/month) - Added policy hash endpoint availability monitoring with error budget management, downtime tracking, and monthly SLO compliance analysis


## Exit Criteria 1.0.3
All Legacy Cleanup + Real eBPF + Enhanced Policy Management + Production Hardening tasks complete; security audit passed; performance benchmarks meet targets; comprehensive test coverage >90%.
